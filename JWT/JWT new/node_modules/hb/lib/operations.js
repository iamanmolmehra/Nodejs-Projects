var ncp  = require('ncp');
var fs   = require('fs');
var sys  = require('sys');
var exec = require('child_process').exec;


// Operations
module.exports = {
  
  /**
   * Get HB Directory
   */
  dir: function(name) {
    return process.cwd() + "/" + name;
  },
  

  /**
   * Make HB Directory
   */
  mkDir: function(dir) {
    fs.mkdirSync(dir);
  },
  
  
  
  /**
   * Copy package.json
   */
  copyPackage: function(dir, cb) {
    ncp(dir+"/node_modules/hummingbird-node",dir,{clobber:true},function(err) {
      if (err) {
        cb(err);
      } else {
        cb(null);
      }
    });
  },
  
  
  
  /**
   * Install Dependencies
   */
  install: function(dir, cb) {
    exec("npm install hummingbird-node", { cwd:dir }, function(error, stdout, stderr) {
      if (!error) {
        cb(error);
      } else {
        cb(null, stdout);
      };
    });
  }

};